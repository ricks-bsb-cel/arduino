# Display commands

* **0хAE/0хAF** - выключение/включение дисплея. Как только модуль подключается к питанию, SSD1306 готов принимать
и исполнять команды, в том числе выводить изображение на дисплей. Однако само изображение вы не увидите, поскольку
по сбросу/подаче питания выполняется команда 0хAE, т.е. дисплей выключен. Поэтому в функции инициализации модуля
необходимо, среди прочего, прописать команду 0хAF.

* **0х81 XX** - Установить контрастность дисплея. Двухбайтовая команда. Параметр от 1 до 256. Значение по умолчанию
(RESET = 7Fh)

* **0х20 XX** - установка режима адресации. Эта команда определяет порядок вывода данных на дисплей: горизонтальный,
вертикальный или постраничный. Более подробно об этом - чуть позже, а пока лишь скажу, что мы будем использовать
режим горизонтальной адресации.
  * _0x00_ - Для режима горизонтальной адресации при каждом исполнении функции ssd1306_data() увеличивается на единицу
значение счётчика адреса столбца. По достижении заданного конечного значения счётчик адреса столбца сбрасывается в
начальное значение, а счётчик адреса страницы увеличивается на единицу. После достижения счётчиком адреса страницы
заданного конечного значения оба счётчика сбросятся в начальные значения и процесс пойдёт по второму кругу.
```
// выбираем режим горизонтальной адресации 
ssd1306_command(0x20);
ssd1306_command(0x00);
// пределы счёта для счётчика столбцов – от 64 до 127 
ssd1306_command(0x21);  
ssd1306_command(64);
ssd1306_command(127);
// пределы счёта для счётчика страниц – от 3 до 4
ssd1306_command(0x22);  
ssd1306_command(3);
ssd1306_command(4);
// выводим 65 вертикальных чёрточек по 8 пикселей на дисплей
for(int i = 0; i < 65; i++) {
    ssd1306_data(255);      
}
```
  * _0x01_ - Для режима вертикальной адресации, наоборот, увеличивается на 1 значение счётчика адреса страницы.
После его заполнения следует сброс в начальное значение, инкремент счётчика адреса столбца и так далее.
```
// выбираем режим вертикальной адресации 
ssd1306_command(0x20);
ssd1306_command(0x01);
// пределы счёта для счётчика столбцов – от 64 до 65 
ssd1306_command(0x21);  
ssd1306_command(64);
ssd1306_command(65);
// пределы счёта для счётчика страниц – от 3 до 7
ssd1306_command(0x22);  
ssd1306_command(3);
ssd1306_command(7);
// выводим 6 вертикальных чёрточек по 8 пикселей на дисплей
for(int i = 0; i < 6; i++) {
    ssd1306_data(255);      
}
```
  * _0x02_ - Для режима постраничной адресации предусмотрен только счётчик адреса столбца, то есть все действия
происходят в пределах одной выбранной страницы. Кроме того, в этом режиме не предусмотрен конечный адрес столбца,
так что рост значения счётчика продолжается до значения 127 (конец страницы), а затем, в отличие от двух других
режимов, не сбрасывается в начальное значение, а обнуляется.
```
// выбираем режим постраничной адресации 
ssd1306_command(0x20);
ssd1306_command(0x02);
// младшая тетрада начального адреса столбца
ssd1306_command(0x00 | (64 & 0x0F));
// старшая тетрада начального адреса столбца
ssd1306_command(0x10 | (64 >> 4));
//начальный адрес страницы
ssd1306_command(0xB0 | 3);
// выводим 65 вертикальных чёрточек по 8 пикселей на дисплей
for(int i = 0; i < 65; i++) {
    ssd1306_data(255);
}
```

* **0х21** - установка ограничителя счетчика столбцов. См. режимы горизонтальной/вертикальной адресации.

* **0х22** - установка ограничителя счетчика страниц. См. режимы горизонтальной/вертикальной адресации.

* **0xB0-0xBF** - установка адреса страницы

* **0x00-0x0F** - Установка адреса столбца. Младший полубайт. Загрузка младшего полубайта в регистр указателя
положения курсора в положении на странице. После сброса в этом регистре храниться значение 0000b.
внимание (1) Эта команда только для режима адресации страницы

* **0x10-0x1F** - установка адреса столбца. Старший полубайт. Загрузка старшего полубайта в регистр указателя
положения курсора в положении на странице. После сброса в этом регистре храниться значение 0000b.
внимание (1) Эта команда только для режима адресации страницы

* **А0/А1** - с точки зрения изображения на дисплее эти команды ответственны за отражение по горизонтали.

* **C0/C8** - определение порядка сканирования COM-выводов дисплея. Если проще – отражение по вертикали.
В сочетание с _A0/A1_ последних пар команд позволяет регулировать ориентацию изображения.

* **0x8D XX** - включение/выключение ёмкостного умножителя. При включении дисплея без использования этой
команды, изображение будет едва видимо, даже, если командой 0х81 выставить максимальное значение контрастности.
Дело в том, что рабочее напряжение дисплея – от 7В до 15В. Поскольку подаваемого на выводы модуля напряжения
(3В – 5В) не достаточно, в его состав включён емкостной умножитель, повышающий уровень напряжения до необходимого.
По сбросу/подаче питания этот узел отключен, поэтому второй обязательной командой в функции инициализации модуля
должна быть, помимо 0хAF, команда включения ёмкостного умножителя.
  * _0x10_ - отключить (VCC подается извне)
  * _0x14_ - запустить внутренний DC/DC

* **A4** - Включить весь дисплей. Продолжить вывод на дисплей содержимого RAM (RESET) Отображается содержимое RAM.
* **A5** - Включить весь дисплей. Вывод игнорирует содержимое RAM.

* **A6** - Нормальный отображение (RESET). 0 в RAM: отображается как выключенный пиксель. 1 в RAM: отображается
как горящий пиксель
* **A7** - Инверсный режим отображения. 0 в RAM: отображается как горящий пиксель. 1 в RAM: OFF отображается
как выключенный пиксель

* **26/27 XX XX XX XX XX XX** - Установка непрерывной горизонтальной прокрутки (скроллинга).
_26h_ горизонтальный скроллинг вправо, _27h_ горизонтальный скроллинг влево.
  # **0x00** - фиктивный байт (Установить как 00h)
  # **0x0X** - Определить стартовой адрес. (Page & 0x07)
  # **0x0X** - Установите временной интервал между каждым шагом прокрутки с точки зрения частоты кадров
000b – 5 frames, 001b – 64 frames, 010b – 128 frames, 011b – 256 frames, 100b – 3 frames, 101b – 4 frames,
110b – 25 frame, 111b – 2 frame
  # **0x0X** - Определить адрес конца страницы. Значение должно быть больше или равно стартового адреса. (Page & 0x07).
  # **0x00** - фиктивный байт (Установить как 00h)
  # **0xFF** - фиктивный байт (Установить как FFh)

* **29/2A XX XX XX XX XX** - Установка режима непрерывной горизонтальной или вертикальной прокрутки (скроллинга).
_29h_ Вертикальный и вправо горизонтальный скроллинг, _2Ah_ Вертикальный и влево горизонтальный скроллинг
(Горизонтальная прокрутка на 1 колонку)
  # **0x00** - фиктивный байт (Установить как 00h)
  # **0x0X** - Определить стартовой адрес. (Page & 0x07)
  # **0x0X** - Установите временной интервал между каждым шагом прокрутки с точки зрения частоты кадров
000b – 5 frames, 001b – 64 frames, 010b – 128 frames, 011b – 256 frames, 100b – 3 frames, 101b – 4 frames,
110b – 25 frame, 111b – 2 frame
  # **0x0X** - Определить адрес конца страницы. Значение должно быть больше или равно стартового адреса. (Page & 0x07).
  # **0x0X** - Вертикальная прокрутка смещения. например: 01h смещение = 1 ряд, 3Fh смещение = 63 строк.
внимание (1) Нет непрерывной вертикальной прокрутки отсутствует.

* **0x2E** - Остановить прокрутку, настроенный командой 26h/27h/29h/2Ah.
Внимание (1) После отправки 2Eh команды для отключения прокрутки, данные в ОЗУ  должны быть переписаны.

* **0x2F** - Начать прокрутку (скроллинг), которая настроена на прокрутку командами настройки: 26h/27h/29h/2Ah со
следующими допустимыми последовательностями:
Действительно последовательность команд 1: 26h; 2Fh.
Действительно последовательность команд 2: 27h; 2Fh.
Действительно последовательность команд 3: 29h; 2Fh.
Действительно последовательность команд 4: 2Ah; 2Fh.
Например, если «26h; 2Ah;. 2Fh» команды даются, то текст в последней команде настройки прокрутки, т.е. 2Ah в этом
случае, будет выполнено. Другими словами, установки в последней команде настройки прокрутки перезаписывают настройки
в предыдущих командах настройки прокрутки.

* **0xA3 XX XX** - Установка области вертикальной прокрутки.
  # **0xXX** - Кол-во взятых строк в верхней фиксированной области. Количество строк в верхней фиксированной области
ссылается на верхней части GDDRAM (то есть строка 0). (RESET= 0)
  # **0xXX** - Количество рядов в области прокрутки. Это количество строк, которые будут использоваться для вертикальной
прокрутки.Области прокрутки начинается в первой строке ниже верхней фиксированной области. (RESET= 64)

* **0xD5 XX** - настройка частоты обновления дисплея. старший полубайт - частота генератора, младший полубайт - делитель 0-F
(0 - деление на 1). по умолчанию 0x80


## Пример
```
OLEDwrite_comm(0xAE);   //*выключить дисплей
OLEDwrite_comm(0XD5);   // настройка частоты обновления дисплея
OLEDwrite_comm(0x80);
    //           |+----- делитель 0-F/ 0 - деление на 1
    //           +------ частота генератора. по умолчанию 0x80
OLEDwrite_comm(0xA8);   //*установить multiplex ratio
OLEDwrite_comm(0x3F);   //0x3F*--1/64 duty (значение по умолчанию)
                        //
OLEDwrite_comm(0xD3);   // Смещение дисплея (offset)
OLEDwrite_comm(0x00);   // нет смещения
                        //
OLEDwrite_comm(0x40);   // Начала строки начала развертки 0x40 с начала RAM
                        //
OLEDwrite_comm(0x8D);   // Управление внутренним преобразователем
OLEDwrite_comm(0x14);   // 0x10 - отключить (VCC подается извне) 0x14 - запустить внутренний DC/DC
// ENAB_VCC (1);        // Включить питание подачу внешнего VCC
// функции вращения экрана
OLEDwrite_comm(0xA1);   // Режим развертки по странице (по X)
                        // A1 - нормальный режим (слева/направо) A0 - обратный (справа/налево)
OLEDwrite_comm(0xC0);   // режим сканирования озу дисплея
                        // для изменения системы координат
                        // С0 - снизу/верх (начало нижний левый угол)
                        // С8 - сверху/вниз (начало верхний левый угол)
OLEDwrite_comm(0xDA);   // аппаратная конфигурации COM
OLEDwrite_comm(0x12);   //0x02-0x12
                        // 
OLEDwrite_comm(0x81);   // настройка контрастности
OLEDwrite_comm(180);    //0-255
                        //
OLEDwrite_comm(0xD9);   //настройка фаз DC/DC преобразователя
OLEDwrite_comm(0xF1);   //0x22-VCC подается извне / 0xF1 для внутреннего
                        //
OLEDwrite_comm(0xDB);   // Установка VcomH
OLEDwrite_comm(0x40);   // влияет на яркость дисплея 0x30 (0x00-0x10-0x20-0x30-0x40-0x50-0x60-0x70)
                        //
OLEDwrite_comm(0xA4);   // Режим нормальный
                        //
OLEDwrite_comm(0xA6);   // нет инверсии
                        //
OLEDwrite_comm(0x20);   // режима автоматической адресации
OLEDwrite_comm(0);      // 0-по горизонтали с переходом на новую страницу (строку)
                        //1 - по вертикали с переходом на новую строку
                        //2 - только по выбранной странице без перехода
                        //
// OLEDwrite_comm(0x22);        // размер дисплея по Y
// OLEDwrite_comm(0);           // от 0 страницы
// OLEDwrite_comm(7);           // до 7 страницы
//
// OLEDwrite_comm(0x21);        // размер дисплея по X
// OLEDwrite_comm(0);           // от 0 колонки
// OLEDwrite_comm(127);         // до 127 колонки
                        //
OLEDwrite_comm(0xAF);   //display on
```
